{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import Nav from\"../Nav\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ItemCard=_ref=>{let{item,onDelete}=_ref;const handleDelete=()=>onDelete(item.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg overflow-hidden\",children:[item.photoUrl&&/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8005/api/items/photos/\".concat(item.photoUrl)// Using template literal for image source\n,alt:item.title,className:\"w-full h-64 object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-2\",children:item.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-2\",children:item.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 font-semibold mb-2\",children:[\"Category: \",item.category]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 font-semibold mb-2\",children:[\"Condition: \",item.condition]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 font-semibold mb-2\",children:[\"Location: \",item.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 font-semibold mb-2\",children:[\"Contact No: \",item.contactNumber]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 font-bold text-lg\",children:[\"Cost: \\u20B9\",item.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"bg-red-500 text-white px-4 py-2 rounded-lg mt-2\",children:\"Delete\"})]})]});};const App=()=>{const[items,setItems]=useState([]);useEffect(()=>{fetchItems();},[]);const fetchItems=async()=>{try{const response=await axios.get('http://localhost:8005/api/items');setItems(response.data);}catch(error){console.error('There was an error fetching the items!',error);}};const handleDeleteItem=async itemId=>{try{await axios.delete(\"http://localhost:8005/api/items/\".concat(itemId));fetchItems();}catch(error){console.error('There was an error deleting the item!',error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Marketplace\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:items.map(item=>/*#__PURE__*/_jsx(ItemCard,{item:item,onDelete:handleDeleteItem},item.id))})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","Nav","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemCard","_ref","item","onDelete","handleDelete","id","className","children","photoUrl","src","concat","alt","title","description","category","condition","location","contactNumber","price","toFixed","onClick","App","items","setItems","fetchItems","response","get","data","error","console","handleDeleteItem","itemId","delete","map"],"sources":["C:/Users/Huzaif Momin/Desktop/minor/webdev/src/components/Admin/AdminItem.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Nav from \"../Nav\";\r\n\r\nconst ItemCard = ({ item, onDelete }) => {\r\n  const handleDelete = () => onDelete(item.id);\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\r\n      {item.photoUrl && (\r\n        <img\r\n          src={`http://localhost:8005/api/items/photos/${item.photoUrl}`} // Using template literal for image source\r\n          alt={item.title}\r\n          className=\"w-full h-64 object-cover\"\r\n        />\r\n      )}\r\n      <div className=\"p-4\">\r\n        <h2 className=\"text-xl font-bold mb-2\">{item.title}</h2>\r\n        <p className=\"text-gray-700 mb-2\">{item.description}</p>\r\n        <p className=\"text-gray-900 font-semibold mb-2\">Category: {item.category}</p>\r\n        <p className=\"text-gray-900 font-semibold mb-2\">Condition: {item.condition}</p>\r\n        <p className=\"text-gray-900 font-semibold mb-2\">Location: {item.location}</p>\r\n        <p className=\"text-gray-900 font-semibold mb-2\">Contact No: {item.contactNumber}</p>\r\n        <p className=\"text-gray-900 font-bold text-lg\">Cost: â‚¹{item.price.toFixed(2)}</p>\r\n        <button onClick={handleDelete} className=\"bg-red-500 text-white px-4 py-2 rounded-lg mt-2\">Delete</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App = () => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchItems();\r\n  }, []);\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8005/api/items');\r\n      setItems(response.data);\r\n    } catch (error) {\r\n      console.error('There was an error fetching the items!', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteItem = async (itemId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:8005/api/items/${itemId}`);\r\n      fetchItems();\r\n    } catch (error) {\r\n      console.error('There was an error deleting the item!', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container mx-auto p-4\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Marketplace</h1>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {items.map(item => (\r\n            <ItemCard key={item.id} item={item} onDelete={handleDeleteItem} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}