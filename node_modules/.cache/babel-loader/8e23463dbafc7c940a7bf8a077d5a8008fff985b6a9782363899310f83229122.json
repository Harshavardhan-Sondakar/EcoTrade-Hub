{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderList=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{fetchOrders();},[]);const fetchOrders=()=>{setLoading(true);axios.get('http://localhost:8005/api/orders').then(response=>{setOrders(response.data);setLoading(false);}).catch(error=>{setError('Error fetching orders. Please try again later.');setLoading(false);});};const deleteOrder=id=>{axios.delete(\"http://localhost:8005/api/orders/\".concat(id)).then(()=>{setOrders(orders.filter(order=>order.id!==id));}).catch(()=>{setError('Error deleting order. Please try again later.');});};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-1 text-center\",children:\"Orders\"}),/*#__PURE__*/_jsx(\"br\",{}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-center\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:orders.map(order=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-lg rounded-lg overflow-hidden transform transition duration-500 hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-2\",children:order.itemName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 font-semibold mb-2\",children:[\"Quantity: \",order.quantity]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 font-semibold mb-2\",children:[\"Total Price: \\u20B9\",order.totalPrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 mb-2\",children:[\"Name: \",order.firstName,\" \",order.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 mb-2\",children:[\"Phone Number: \",order.phoneNumber]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 mb-2\",children:[\"Address: \",order.address,\", \",order.pincode]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteOrder(order.id),className:\"mt-4 bg-red-500 text-white py-2 px-4 rounded\",children:\"Confirm Order\"})]})},order.id))})]})});};export default OrderList;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","OrderList","orders","setOrders","loading","setLoading","error","setError","fetchOrders","get","then","response","data","catch","deleteOrder","id","delete","concat","filter","order","className","children","map","itemName","quantity","totalPrice","toFixed","firstName","lastName","phoneNumber","address","pincode","onClick"],"sources":["C:/Users/Huzaif Momin/Desktop/minor/webdev/src/components/Admin/OrderList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nconst OrderList = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const fetchOrders = () => {\r\n    setLoading(true);\r\n    axios.get('http://localhost:8005/api/orders')\r\n      .then(response => {\r\n        setOrders(response.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(error => {\r\n        setError('Error fetching orders. Please try again later.');\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const deleteOrder = (id) => {\r\n    axios.delete(`http://localhost:8005/api/orders/${id}`)\r\n      .then(() => {\r\n        setOrders(orders.filter(order => order.id !== id));\r\n      })\r\n      .catch(() => {\r\n        setError('Error deleting order. Please try again later.');\r\n      });\r\n  };\r\n\r\n  return (\r\n      <div className=\"bg-white\">\r\n          <div className=\"container mx-auto p-4\">\r\n              <h1 className=\"text-2xl font-bold mb-1 text-center\">Orders</h1>\r\n              <br></br>\r\n              {loading && <p className=\"text-center\">Loading...</p>}\r\n              {error && <p className=\"text-red-500 text-center\">{error}</p>}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                  {orders.map(order => (\r\n                      <div key={order.id} className=\"bg-white shadow-lg rounded-lg overflow-hidden transform transition duration-500 hover:scale-105\">\r\n                          <div className=\"p-4\">\r\n                              <h2 className=\"text-xl font-bold mb-2\">{order.itemName}</h2>\r\n                              <p className=\"text-gray-900 font-semibold mb-2\">Quantity: {order.quantity}</p>\r\n                              <p className=\"text-gray-900 font-semibold mb-2\">Total Price: â‚¹{order.totalPrice.toFixed(2)}</p>\r\n                              <p className=\"text-gray-900 mb-2\">Name: {order.firstName} {order.lastName}</p>\r\n                              <p className=\"text-gray-900 mb-2\">Phone Number: {order.phoneNumber}</p>\r\n                              <p className=\"text-gray-900 mb-2\">Address: {order.address}, {order.pincode}</p>\r\n                              <button\r\n                                  onClick={() => deleteOrder(order.id)}\r\n                                  className=\"mt-4 bg-red-500 text-white py-2 px-4 rounded\"\r\n                              >\r\n                                  Confirm Order\r\n                              </button>\r\n                          </div>\r\n                      </div>\r\n                  ))}\r\n              </div>\r\n          </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default OrderList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}