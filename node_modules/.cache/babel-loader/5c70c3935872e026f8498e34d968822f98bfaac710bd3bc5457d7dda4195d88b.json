{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const[dashboardData,setDashboardData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{fetchDashboardData();},[]);const fetchDashboardData=()=>{setLoading(true);axios.get('http://localhost:8005/api/dashboard').then(response=>{setDashboardData(response.data);setLoading(false);}).catch(error=>{setError('Error fetching dashboard data. Please try again later.');setLoading(false);});};if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]});}if(!dashboardData){return null;}const{totalWasteOrdered,wasteCategoryData}=dashboardData;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4\",children:[\"Total Waste Ordered: \",totalWasteOrdered,\" kg\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Waste Category Data:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-4\",children:Object.keys(wasteCategoryData).map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:category}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[\"Quantity: \",wasteCategoryData[category],\" kg\"]})]},category))})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","dashboardData","setDashboardData","loading","setLoading","error","setError","fetchDashboardData","get","then","response","data","catch","children","totalWasteOrdered","wasteCategoryData","className","Object","keys","map","category"],"sources":["C:/Users/Huzaif Momin/Desktop/minor/webdev/src/components/Admin/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Dashboard = () => {\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const fetchDashboardData = () => {\r\n    setLoading(true);\r\n    axios.get('http://localhost:8005/api/dashboard')\r\n      .then(response => {\r\n        setDashboardData(response.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(error => {\r\n        setError('Error fetching dashboard data. Please try again later.');\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  if (loading) {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>Error: {error}</p>;\r\n  }\r\n\r\n  if (!dashboardData) {\r\n    return null; \r\n  }\r\n\r\n  const { totalWasteOrdered, wasteCategoryData } = dashboardData;\r\n\r\n  return (\r\n    <><div className=\"container mx-auto p-4\">\r\n          <h1 className=\"text-2xl font-bold mb-4\">Dashboard</h1>\r\n\r\n          <div className=\"bg-white shadow-md rounded-lg p-6 mb-6\">\r\n              <h2 className=\"text-xl font-bold mb-4\">Total Waste Ordered: {totalWasteOrdered} kg</h2>\r\n\r\n              <h2 className=\"text-xl font-bold mb-4\">Waste Category Data:</h2>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                  {Object.keys(wasteCategoryData).map(category => (\r\n                      <div key={category} className=\"bg-gray-100 p-4 rounded-lg shadow\">\r\n                          <h3 className=\"text-lg font-semibold mb-2\">{category}</h3>\r\n                          <p className=\"text-gray-700\">Quantity: {wasteCategoryData[category]} kg</p>\r\n                      </div>\r\n                  ))}\r\n              </div>\r\n          </div>\r\n      </div></>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACde,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,kBAAkB,CAAGA,CAAA,GAAM,CAC/BH,UAAU,CAAC,IAAI,CAAC,CAChBX,KAAK,CAACe,GAAG,CAAC,qCAAqC,CAAC,CAC7CC,IAAI,CAACC,QAAQ,EAAI,CAChBR,gBAAgB,CAACQ,QAAQ,CAACC,IAAI,CAAC,CAC/BP,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDQ,KAAK,CAACP,KAAK,EAAI,CACdC,QAAQ,CAAC,wDAAwD,CAAC,CAClEF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBAAOR,IAAA,MAAAkB,QAAA,CAAG,YAAU,CAAG,CAAC,CAC1B,CAEA,GAAIR,KAAK,CAAE,CACT,mBAAOR,KAAA,MAAAgB,QAAA,EAAG,SAAO,CAACR,KAAK,EAAI,CAAC,CAC9B,CAEA,GAAI,CAACJ,aAAa,CAAE,CAClB,MAAO,KAAI,CACb,CAEA,KAAM,CAAEa,iBAAiB,CAAEC,iBAAkB,CAAC,CAAGd,aAAa,CAE9D,mBACEN,IAAA,CAAAI,SAAA,EAAAc,QAAA,cAAEhB,KAAA,QAAKmB,SAAS,CAAC,uBAAuB,CAAAH,QAAA,eAClClB,IAAA,OAAIqB,SAAS,CAAC,yBAAyB,CAAAH,QAAA,CAAC,WAAS,CAAI,CAAC,cAEtDhB,KAAA,QAAKmB,SAAS,CAAC,wCAAwC,CAAAH,QAAA,eACnDhB,KAAA,OAAImB,SAAS,CAAC,wBAAwB,CAAAH,QAAA,EAAC,uBAAqB,CAACC,iBAAiB,CAAC,KAAG,EAAI,CAAC,cAEvFnB,IAAA,OAAIqB,SAAS,CAAC,wBAAwB,CAAAH,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAChElB,IAAA,QAAKqB,SAAS,CAAC,wBAAwB,CAAAH,QAAA,CAClCI,MAAM,CAACC,IAAI,CAACH,iBAAiB,CAAC,CAACI,GAAG,CAACC,QAAQ,eACxCvB,KAAA,QAAoBmB,SAAS,CAAC,mCAAmC,CAAAH,QAAA,eAC7DlB,IAAA,OAAIqB,SAAS,CAAC,4BAA4B,CAAAH,QAAA,CAAEO,QAAQ,CAAK,CAAC,cAC1DvB,KAAA,MAAGmB,SAAS,CAAC,eAAe,CAAAH,QAAA,EAAC,YAAU,CAACE,iBAAiB,CAACK,QAAQ,CAAC,CAAC,KAAG,EAAG,CAAC,GAFrEA,QAGL,CACR,CAAC,CACD,CAAC,EACL,CAAC,EACL,CAAC,CAAE,CAAC,CAEf,CAAC,CAED,cAAe,CAAApB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}